

<!DOCTYPE html>
<html lang="pt-br">
   <head>
      <title>Elétrica & Art</title>
   
      <link rel="icon" href="src/pix/logo.svg" type="svg+xml">
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <!--- == [ fontawesome ]
      == == == == == == == == == --->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
      <script src="https://esm.sh/@fortawesome/fontawesome-free"></script>
      <!-- == [ StyleSheets ] 
      == == == == == == == == == -->
      <link rel="stylesheet" href="../Assets/styles/clb.css">
      <link rel="stylesheet" href="../Assets/styles/globals.css">
      <!-- <link rel="stylesheet" href="../Assets/styles/includes/theme.css"> -->
      <link rel="stylesheet" href="../Assets/fonts/fonts.css">
      <!-- == [ Scripts ] 
      == == == == == == == == == -->
      <script src="../Assets/scripts/clb.js" defer=""></script>
      <script src="../Assets/scripts/global.js" defer=""></script>
      <!-- == [ includes ]
      == == == == == == == == == -->
      <script src="../Assets/scripts/Modules/AppBar.js" defer=""></script>
      <script src="../Assets/scripts/Modules/Drawer.js" defer=""></script>
      <script src="../Assets/scripts/Modules/NavBar.js" defer=""></script>
      <script src="../Assets/scripts/Modules/AppFooter.js" defer=""></script>
      <script src="../Assets/scripts/Modules/EA-Card.js" defer=""></script>
      <script src="../Assets/scripts/Widgets/NavLink.js" defer=""></script>
      <script src="../Assets/scripts/Widgets/Button.js" defer=""></script>
      <script src="../Assets/scripts/Modules/Fab.js" defer=""></script>
      
      <style>
         /* .switch {
            display: flex;
            align-items: center;
            width: 50px;
            height: 30px;
            position: relative;
            background: #27f;
            border-radius: 100px;
            cursor: pointer;
            transition: all .5s;
         }
         .switch::before {
            content: "";
            display: block;
            width: 22px;
            height: 22px;
            position: absolute;
            left: 3px;
            border-radius: 50%;
            transition: all .5s cubic-bezier(
               .60, .55, .265, 1.55
            );
         }
         .switch:where( input[type="radio"] ) {
            display: none;
         }
         .switch:has( input[type="radio"]:checked ) {
            background: #f29;
         }
         .switch::before:has( input[type="radio"]:checked ) {
            background: #f29;
            left: calc( 50px - 22px - 3px );
         } */
      </style>
   </head>
   <body>
      <appbar></appbar>
      <drawer></drawer>
      <fab></fab>
      
      <home-page section>
         <header content>
            <st><a href="./receipt.html">Recibos</a></st>
         </header>
         <recibos section gap>
            <content id="recibos_target">
            <recibo section>
               <contents card>
                  <date section="">
                     <content >
                        <style>
                        </style>
                        <calendar>
                           <calendar-block>
                              <month>Julho</month>
                              <day>06</day>
                           </calendar-block>
                           <year>2024</year>
                        </calendar>
                     </content>
                  </date>
                  <main-info section="">
                     <content>
                        <info column>
                           <desc>
                              <t3 >Forro de DryWall</t3>
                           </desc>
                           <who>
                              <t>Anselmo Sammarco Nunes</t>
                           </who>
                        </info>
                     </content>
                  </main-info>
                  <total-price section="">
                     <content>
                        <total>R$ 220,00</total>
                        <status>pago</status>
                     </content>
                  </total-price>
                  <mask></mask>
               </contents>
            </recibo>
            </content>
         </recibos>
         <app-footer></app-footer>
      </home-page>

      <navbar></navbar>
      
      
      <script>
         'use strict';
         /* [ properties ]
         =================================== */
         /* -------------------------------- */
         
         
         /* == [ global functions ]
         == == == == == == == == == */
         function ReceiptCard( p ) {
            let 
               recibo = {
                  template: props => { 
                     let 
                        data = {
                           status: "ativo"
                           ,
                        }
                     ;
                     
                     [ 
                        data.year
                        ,
                        data.month
                        ,
                        data.day
                     ] = props.dueDate.split( "-" );
                     
                     data.status = !props.payDay == "" ?
                        "pago" : "pendente";
                     
                     switch( data.month ) {
                        case "01": data.month = "Janeiro";
                        break;
                        
                        case "02": data.month = "Fevereiro";
                        break;
                        
                        case "03": data.month = "Março";
                        break;
                        
                        case "04": data.month = "Abril";
                        break;
                        
                        case "05": data.month = "Maio";
                        break;
                        
                        case "06": data.month = "Junho";
                        break;
                        
                        case "07": data.month = "Julho";
                        break;
                        
                        case "08": data.month = "Agosto";
                        break;
                        
                        case "09": data.month = "Setembro";
                        break;
                        
                        case "10": data.month = "Outubro";
                        break;
                        
                        case "11": data.month = "Novembro";
                        break;
                        
                        case "12": data.month = "Dezembro";
                        break;
                        
                     }

                     data.desc = !props.desc ? 
                        props.id 
                        : 
                        props.desc 
                     ;

                     return( `
                        <recibo>
                           <contents card>
                              <date section="">
                                 <content >
                                    <style>
                                    </style>
                                    <calendar>
                                       <calendar-block>
                                          <month>${ data.month }</month>
                                          <day>${ data.day }</day>
                                       </calendar-block>
                                       <year>${ data.year }</year>
                                    </calendar>
                                 </content>
                              </date>
                              <main-info section="">
                                 <content>
                                    <info column>
                                       <desc>
                                          <t3>${ data.desc }</t3>
                                       </desc>
                                       <who>
                                          <t>${ props.customerID }</t>
                                       </who>
                                    </info>
                                 </content>
                              </main-info>
                              <total-price section="">
                                 <content>
                                    <total>${ toBrl( parseFloat( props.total ) ) }</total>
                                    <status>${ data.status }</status>
                                 </content>
                              </total-price>
                              <mask></mask>
                           </contents>
                        </recibo>
                     ` ); 
                  }
                  ,
               }
            ;

            $$( "#recibos_target" ).forEach( recibosTag => {
               let 
                  tempReceiptsDB = []
               ;

               if( localStorage.getItem( "ea.receipts" ) ) {
                  tempReceiptsDB = [
                     ...JSON.parse( localStorage.getItem( "ea.receipts" ) )
                  ];   
                  
                  tempReceiptsDB.forEach( rcpt => {
                     
                     recibosTag.innerHTML += recibo.template( rcpt );
                  } );
               }
               
            } );
         }
         
         /* [ events ]
         =================================== */
         window.addEventListener( 'load', () => {

            Button( {
               tag: "showUsers",
               callback: ShowUsers
            } );

            Button( {
               tag: "showLocalStorageEA.Users",
               bg: "#27f5",
               color: "#99",
               callback: ShowLS,
            } );

            Button( {
               tag: "eraseEA.Users",
               bg: "#27f5",
               color: "#99",
               callback: EraseLS,
            } );

            Drawer();
            Fab( { to: "./new-receipt.html" } );
            NavLink();

            $( "fab" ).addEventListener( "click", () => {
               // localStorage.setItem( "ea.leftNewReceiptPage", window.location.href );
               localStorage.setItem( "ea.leftNewReceiptPage", "./receipts.html" );
            } );
            
            ReceiptCard();
            
         } );
      </script>
   </body>
</html>
