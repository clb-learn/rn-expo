

<!DOCTYPE html>
<html lang="pt-br">
   <head>
      <title>Elétrica & Art</title>
   
      <link rel="icon" href="src/pix/logo.svg" type="svg+xml">
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <!-- == [ fontawesome ]
      == == == == == == == == == -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
      <script src="https://esm.sh/@fortawesome/fontawesome-free"></script>
      <!-- == [ StyleSheets ] 
      == == == == == == == == == -->
      <link rel="stylesheet" href="../Assets/styles/clb.css">
      <link rel="stylesheet" href="../Assets/styles/globals.css">
      <!-- <link rel="stylesheet" href="../Assets/styles/includes/theme.css"> -->
      <link rel="stylesheet" href="../Assets/fonts/fonts.css">
      <!-- == [ Scripts ] 
      == == == == == == == == == -->
      <script src="../Assets/scripts/clb.js" defer></script>
      <script src="../Assets/scripts/global.js" defer></script>
      <script src="../Assets/scripts/GetInvoiceFile.js" defer></script>
      <!-- == [ includes ]
      == == == == == == == == == -->
      <script src="../Assets/scripts/Modules/AppBar.js" defer></script>
      <script src="../Assets/scripts/Modules/Drawer.js" defer></script>
      <script src="../Assets/scripts/Modules/NavBar.js" defer></script>
      <!--script src="../Assets/scripts/Modules/AppFooter.js" defer></script-->
      <script src="../Assets/scripts/Modules/EA-Card.js" defer></script>
      <script src="../Assets/scripts/Widgets/NavLink.js" defer></script>
      <script src="../Assets/scripts/Widgets/Button.js" defer></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js"></script>
      <style>
         form {
            gap: 0 !important;
         }
      </style>
   </head>
   <body>
      <appbar></appbar>
      <drawer></drawer>
      <home-page>
         <view id="invoice_html">
            <ea-card section="dual"></ea-card>
            <form id="form_receipt_pdf">
               <top-flag row>
                  <label id="label_">
                     <t>Orçamento</t>
                     <input type="number" name="" id="orcamento-number" value="" />
                  </label>
                  <label id="label_">
                     <t>Emissão</t>
                     <input type="number" name="" id="emissao" value="" />
                  </label>
                  <label id="label_">
                     <t>Validade</t>
                     <input type="number" name="" id="validade" value="" />
                  </label>
               </top-flag>
               <customer-info section>
                  <badge section>
                     <tt>Cliente</tt>
                  </badge>

                  <table id="customer">
                     <tbody>
                        <tr>
                           <th nome>nome</th>
                           <td nome>
                              <input id="input_nome" type="text" />
                           </td>
                        </tr>
                        <tr>
                           <th >telefone </th>
                           <td ><input id="input_telefone" type="tel" /></td>
                           <th >email </th>
                           <td ><input id="input_email" type="email" /></td>
                        </tr>
                        <tr>
                           <th >cpf/cnpj </th>
                           <td><input id="input_cpf" type="text" /></td>
                           <th >rg/ie </th>
                           <td><input id="input_rg" type="text" /></td>
                        </tr>
                        <tr>
                           <th >endereço </th>
                           <td><input id="input_endereço" type="text" /></td>
                           <th >n° </th>
                           <td><input id="input_n" type="number" step="1" /></td>
                        </tr>
                        <tr>
                           <th >bairro </th>
                           <td><input id="input_bairro" type="text" /></td>
                           <th >cidade </th>
                           <td><input id="input_cidade" type="text" /></td>
                           <th id="th_uf">uf </th>
                           <td ><input id="input_uf" type="text" /></td>
                           <th >cep </th>
                           <td ><input id="input_cep" type="text" /></td>
                        </tr>
                     </tbody>
                  </table>

               </customer-info>
               <budget section>
                  <badge><tt>Orçamento</tt></badge>
                  <table id="table-budget">
                     <thead>
                        <tr>
                           <th id="qt">QT </th>
                           <th id="description">DESCRIÇÃO </th>
                           <th id="unit">UNIT</th>
                           <th id="tot">TOT</th>
                        </tr>
                     </thead>
                     <tbody id="tbody_budget">
                        <tr>
                           <td>
                              <input id="input_qtd_01" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_description_01" type="text" />
                           </td>
                           <td>
                              <input id="input_unit_01" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_tot_01" type="number" step="0.01" />
                           </td>
                        </tr>
                        <tr>
                           <td>
                              <input id="input_qtd_02" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_description_02" type="text" />
                           </td>
                           <td>
                              <input id="input_unit_02" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_tot_02" type="number" step="0.01" />
                           </td>
                        </tr>
                        <tr>
                           <td>
                              <input id="input_qtd_03" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_description_03" type="text" />
                           </td>
                           <td>
                              <input id="input_unit_03" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_tot_03" type="number" step="0.01" />
                           </td>
                        </tr>
                        <tr>
                           <td>
                              <input id="input_qtd_04" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_description_04" type="text" />
                           </td>
                           <td>
                              <input id="input_unit_04" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_tot_04" type="number" step="0.01" />
                           </td>
                        </tr>
                        <tr>
                           <td>
                              <input id="input_qtd_05" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_description_05" type="text" />
                           </td>
                           <td>
                              <input id="input_unit_05" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_tot_05" type="number" step="0.01" />
                           </td>
                        </tr>
                        <tr>
                           <td>
                              <input id="input_qtd_06" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_description_06" type="text" />
                           </td>
                           <td>
                              <input id="input_unit_06" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_tot_06" type="number" step="0.01" />
                           </td>
                        </tr>
                        <tr>
                           <td>
                              <input id="input_qtd_07" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_description_07" type="text" />
                           </td>
                           <td>
                              <input id="input_unit_07" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_tot_07" type="number" step="0.01" />
                           </td>
                        </tr>
                        <tr>
                           <td>
                              <input id="input_qtd_08" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_description_08" type="text" />
                           </td>
                           <td>
                              <input id="input_unit_08" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_tot_08" type="number" step="0.01" />
                           </td>
                        </tr>
                        <tr>
                           <td>
                              <input id="input_qtd_09" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_description_09" type="text" />
                           </td>
                           <td>
                              <input id="input_unit_09" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_tot_09" type="number" step="0.01" />
                           </td>
                        </tr>
                        <tr>
                           <td>
                              <input id="input_qtd_10" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_description_10" type="text" />
                           </td>
                           <td>
                              <input id="input_unit_10" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_tot_10" type="number" step="0.01" />
                           </td>
                        </tr>
                        <tr>
                           <td>
                              <input id="input_qtd_11" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_description_11" type="text" />
                           </td>
                           <td>
                              <input id="input_unit_11" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_tot_11" type="number" step="0.01" />
                           </td>
                        </tr>
                        <tr>
                           <td>
                              <input id="input_qtd_12" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_description_12" type="text" />
                           </td>
                           <td>
                              <input id="input_unit_12" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_tot_12" type="number" step="0.01" />
                           </td>
                        </tr>
                        <tr>
                           <td>
                              <input id="input_qtd_13" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_description_13" type="text" />
                           </td>
                           <td>
                              <input id="input_unit_13" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_tot_13" type="number" step="0.01" />
                           </td>
                        </tr>
                        <tr>
                           <td>
                              <input id="input_qtd_14" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_description_14" type="text" />
                           </td>
                           <td>
                              <input id="input_unit_14" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_tot_14" type="number" step="0.01" />
                           </td>
                        </tr>
                        <tr>
                           <td>
                              <input id="input_qtd_15" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_description_15" type="text" />
                           </td>
                           <td>
                              <input id="input_unit_15" type="number" step="0.01" />
                           </td>
                           <td>
                              <input id="input_tot_15" type="number" step="0.01" />
                           </td>
                        </tr>
                     </tbody>
                  </table>
                  <budget-end id="budget_end" row>
                     <table>
                        <tbody>
                           <tr>
                              <th id="th_subtotal">Subtotal</th>
                              <td id="td_subtotal">
                                 <input id="input_subtotal" type="number" step="0.01" />
                              </td>
                              <th id="th_desconto">Desconto</th>
                              <td id="td_desconto">
                                 <input id="input_desconto" type="number" step="0.01" />
                              </td>
                              <th id="th_total">TOTAL</th>
                              <td id="td_total">
                                 <input id="input_total" type="number" step="0.01" />
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </budget-end>
               </budget>
               
               <notes section>
                  <badge section>
                     <tt>Observações</tt>
                  </badge>
                  <textarea id="input_notes" name="" rows="8"></textarea>
               </notes>
            </form>
            <signatures section>
               <row>
                  <signature section>
                     <content>
                        <sig-name>Rafael - Elétrica & ART</sig-name>
                     </content>
                  </signature>
                  <signature section>
                     <content>
                        <sig-name>Cliente</sig-name>
                     </content>
                  </signature>
               </row>
            </signatures>
         </view>
      </home-page>
      <footer>
         <content>
            <label>
               <input type="button" id="btn_createPDF" value="Baixar em pdf">
            </label>
         </content>
      </footer>
      
      
      
      
      
      
      
      <navbar></navbar>
      
      <script>
         'use strict';
         /* [ properties ]
         =================================== */
         const 
            ea = {
               logoURI: "https://raw.githubusercontent.com/Ceo-js/ea/2e6fdd74866a50968095c8c6942156d1e93e1c34/ea.jpg"
            }
         ;
         /* -------------------------------- */
         
         
         /* [ events ] 
         =================================== */
         window.addEventListener( "load", () => {

            Drawer();
            NavLink();

            btn_createPDF.addEventListener( "click", () => {
               /* document.querySelector( "#invoice_html" ).style.padding = "40px";
               setTimeout( () => { */ // put margin in invoice

                  const invoice = this.document.querySelector( "#invoice_html" );
                  console.log( $( "#invoice_html" ) );
                  console.log( window );
                  var data = {
                     margin: 0,
                     filename: "orçamento.pdf",
                     image: { type: "png", quality: 100 },
                     autoPaging: 'text',
                     x: 0,
                     y: 0,
                     html2canvas: { 
                        width: 792,
                        height: 1120,
                        windowWidth: 792,
                        windowHeight: 1120,
                        // dpi: 300,
                        dpi: 100,
                        letterRendering: true,
                        useCORS: true,
                        // allowTaint: true,
                        imageTimeout: 15000,
                        scale: 1
                     },
                     jsPDF: { 
                        // unit: "in", "pt", "mm", "cm", "m", "in" or "px".
                        unit: "pt", 
                        // format: "letter", a0 - a10, b0 - b10, c0 - c10, dl, letter, government-letter, 
                        // legal, junior-legal, ledger, tabloid, [595.28, 841.89]
                        format: "a4", 
                        orientation: "portrait",
                        precision: 1,
                     }
                  };
                  html2pdf().set( {
                     pagebreak: { mode: "avoid-all", before: "#break-page" }
                  } ); 
                  html2pdf().from( invoice ).set( data ).save();

                  /* setInterval( () => {    // put margin in invoice
                     document.querySelector( "#invoice_html" ).style.padding = "0";
                  }, 500 );
               }, 500 ); */
            } );
         } );
      </script>
   </body>
</html>
